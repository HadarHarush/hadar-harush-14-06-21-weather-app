{"version":3,"sources":["services/localStorageService.js","services/httpService.js","services/accuWeatherService.js","store/actions/uiActions.js","components/IOSSwitch/IOSSwitch.jsx","components/Switches/Switches.jsx","components/AppHeader/AppHeader.jsx","assets/img/weather.png","services/eventBusService.js","store/actions/cityActions.js","components/SearchBox/SearchBox.jsx","services/utils.js","components/ForecastPreview/ForecastPreview.jsx","components/ForecastsList/ForecastsList.jsx","components/ToggleFavoriteButton/ToggleFavoriteButton.jsx","store/actions/favoriteCitiesActions.js","components/MessageBox/MessageBox.jsx","pages/HomePage/HomePage.jsx","components/FavoritePreview/FavoritePreview.jsx","components/FavoritesList/FavoritesList.jsx","pages/FavoritesPage/FavoritesPage.jsx","components/AppNotification/AppNotification.jsx","App.js","store/reducers/cityReducer.js","store/reducers/favoriteCitiesReducer.js","store/reducers/uiReducer.js","store/index.js","index.js"],"names":["STORAGE_KEY","weatherStorage","JSON","parse","localStorage","getItem","cachedGets","favoriteCities","setItem","stringify","initLocalStorage","localStorageService","key","val","stringifiedStorage","parsedStorage","stringifiedNewStorage","CACHED_GETS_STORAGE_KEY","SECONDARY_API_KEY","API_KEY","getResponseFromStorage","endpoint","endpointWithMainAPI","replace","endpointWithSecondaryAPI","existingEndpointObj","find","currGetObj","value","saveResponseInStorage","lastCachedGetsStorageVal","filter","currCachedGet","NewCachedGetsStorageVal","httpService","get","a","responseFromStorage","fetch","then","response","json","autoCompletes","ACCUWEATHER_BASE_URL","accuWeatherService","getAutoCompletes","text","getWeather","getForecasts","getByLocation","lat","lng","console","log","setCityStatus","cityStatus","dispatch","type","MyIOSSwitch","withStyles","theme","root","width","height","padding","margin","spacing","switchBase","transform","color","palette","common","white","backgroundColor","opacity","border","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","Switch","focusVisibleClassName","disableRipple","IOSSwitch","onChange","label","FormControlLabel","control","Switches","useSelector","uiReducer","isDark","isCelsDegrees","useDispatch","Card","className","setIsDark","setIsCelsDegrees","routesMap","AppHeader","history","useHistory","location","useLocation","React","useState","currRouteIdx","setCurrRouteIdx","useEffect","pathname","findIndex","currRoute","AppBar","position","onClick","push","src","alt","Typography","variant","Tabs","aria-label","Tab","eventBusService","on","eventName","listener","callListener","detail","window","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","loadFullCity","cityDetails","Key","weather","forecasts","city","details","txt","LocalizedName","myBus","SearchBox","currText","setCurrText","autocompletes","setAutocompletes","loadAutoCompletes","handleSearch","results","cleanResults","reduce","acc","currResult","cleanAutoCompletes","currCity","Autocomplete","id","freeSolo","ev","options","map","renderInput","params","TextField","target","daysInWeek","getWeatherIcon","iconNumber","ForecastPreview","forecast","day","Date","getDay","uiTemp","Math","round","valInFer","Temperature","Minimum","Value","Maximum","getTemp","align","slice","Day","Icon","ForecastsList","cityReducer","DailyForecasts","currForecast","ToggleFavoriteButton","cityKey","favoriteCitiesReducer","relevantCity","isFavorite","Button","startIcon","favorite","getState","removeFavorite","MessageBox","HomePage","temp","getUiTemp","WeatherText","CircularProgress","FavoritePreview","LocalObservationDateTime","WeatherIcon","FavoritesList","EmptyMessage","length","currFav","FavoritesPage","toast","configure","AppNotification","notify","notification","App","searchByLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","createMuiTheme","ThemeProvider","Paper","component","path","INITIAL_STATE","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","state","action","favorites","currFavorite","updatedFavorite","_id","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8be22cf2.chunk.js","sourcesContent":["const STORAGE_KEY = 'weather-app'\r\n\r\ninitLocalStorage()\r\n\r\nconst setItem = (key, val) => {\r\n  let stringifiedStorage = localStorage.getItem(STORAGE_KEY)\r\n  if (!stringifiedStorage) {\r\n    return null\r\n  }\r\n\r\n  const parsedStorage = JSON.parse(stringifiedStorage)\r\n\r\n  const stringifiedNewStorage = JSON.stringify({ ...parsedStorage, [key]: val })\r\n\r\n  localStorage.setItem(STORAGE_KEY, stringifiedNewStorage)\r\n}\r\n\r\nconst getItem = (key) => {\r\n  const stringifiedStorage = localStorage.getItem(STORAGE_KEY)\r\n  if (!stringifiedStorage) {\r\n    return null\r\n  }\r\n\r\n  const parsedStorage = JSON.parse(stringifiedStorage)\r\n  return parsedStorage[key] ? parsedStorage[key] : null\r\n}\r\n\r\nfunction initLocalStorage() {\r\n  let weatherStorage = JSON.parse(localStorage.getItem(STORAGE_KEY) || 'null')\r\n  if (!weatherStorage) {\r\n    weatherStorage = {\r\n      favoriteCities: [],\r\n      cachedGets: [],\r\n    }\r\n  } else {\r\n    if (!weatherStorage.cachedGets) {\r\n      weatherStorage = {\r\n        ...weatherStorage,\r\n        cachedGets: [],\r\n      }\r\n    }\r\n    if (!weatherStorage.favoriteCities) {\r\n      weatherStorage = {\r\n        ...weatherStorage,\r\n        favoriteCities: [],\r\n      }\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(weatherStorage))\r\n}\r\n\r\nexport const localStorageService = {\r\n  setItem,\r\n  getItem,\r\n}\r\n","import { localStorageService } from './localStorageService'\r\n\r\nconst CACHED_GETS_STORAGE_KEY = 'cachedGets'\r\n\r\nconst SECONDARY_API_KEY = 'R4ettAiKfMJQGCQOZK5DZL7BzAITmfik'\r\nconst API_KEY = '3EYPCFS44b60SEabFAOgpaAXxKeyjFmG'\r\n\r\nconst getResponseFromStorage = (endpoint) => {\r\n  const endpointWithMainAPI = endpoint.replace(SECONDARY_API_KEY, API_KEY)\r\n  const endpointWithSecondaryAPI = endpoint.replace(API_KEY, SECONDARY_API_KEY)\r\n  const cachedGetsInStorage = localStorageService.getItem(\r\n    CACHED_GETS_STORAGE_KEY\r\n  )\r\n\r\n  const existingEndpointObj = cachedGetsInStorage.find(\r\n    (currGetObj) =>\r\n      currGetObj.endpoint === endpointWithMainAPI ||\r\n      currGetObj.endpoint === endpointWithSecondaryAPI\r\n  )\r\n\r\n  return existingEndpointObj?.value ? existingEndpointObj?.value : null\r\n}\r\n\r\nconst saveResponseInStorage = (endpoint, value) => {\r\n  let lastCachedGetsStorageVal = localStorageService.getItem(\r\n    CACHED_GETS_STORAGE_KEY\r\n  )\r\n  if (!lastCachedGetsStorageVal) {\r\n    lastCachedGetsStorageVal = []\r\n  }\r\n\r\n  //keep the data fresh...\r\n  lastCachedGetsStorageVal.filter(\r\n    (currCachedGet) => currCachedGet.endpoint !== endpoint\r\n  )\r\n\r\n  const NewCachedGetsStorageVal = [\r\n    { endpoint, value },\r\n    ...lastCachedGetsStorageVal,\r\n  ]\r\n\r\n  localStorageService.setItem(CACHED_GETS_STORAGE_KEY, NewCachedGetsStorageVal)\r\n}\r\n\r\nconst get = async (endpoint) => {\r\n  try {\r\n    const responseFromStorage = getResponseFromStorage(endpoint)\r\n    if (responseFromStorage) return responseFromStorage\r\n\r\n    const autoCompletes = await fetch(endpoint).then((response) =>\r\n      response.json()\r\n    )\r\n    saveResponseInStorage(endpoint, autoCompletes)\r\n    return autoCompletes\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const httpService = {\r\n  get,\r\n}\r\n","import { httpService } from './httpService'\r\n\r\nconst ACCUWEATHER_BASE_URL = 'https://dataservice.accuweather.com'\r\nconst SECONDARY_API_KEY = 'R4ettAiKfMJQGCQOZK5DZL7BzAITmfik'\r\nconst API_KEY = '3EYPCFS44b60SEabFAOgpaAXxKeyjFmG'\r\n\r\nconst getAutoCompletes = async (text) => {\r\n  let endpoint = `${ACCUWEATHER_BASE_URL}/locations/v1/cities/autocomplete?apikey=${API_KEY}&q=${text}`\r\n  try {\r\n    return await httpService.get(endpoint)\r\n  } catch (error) {\r\n    try {\r\n      endpoint = endpoint.replace(API_KEY, SECONDARY_API_KEY)\r\n      return await httpService.get(endpoint)\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nconst getWeather = async (key) => {\r\n  let endpoint = `${ACCUWEATHER_BASE_URL}/currentconditions/v1/${key}?apikey=${API_KEY}`\r\n  try {\r\n    return await httpService.get(endpoint)\r\n  } catch (error) {\r\n    try {\r\n      endpoint = endpoint.replace(API_KEY, SECONDARY_API_KEY)\r\n      return await httpService.get(endpoint)\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nconst getForecasts = async (key) => {\r\n  let endpoint = `${ACCUWEATHER_BASE_URL}/forecasts/v1/daily/5day/${key}?apikey=${API_KEY}`\r\n  try {\r\n    return await httpService.get(endpoint)\r\n  } catch (error) {\r\n    try {\r\n      endpoint = endpoint.replace(API_KEY, SECONDARY_API_KEY)\r\n      return await httpService.get(endpoint)\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nconst getByLocation = async (lat, lng) => {\r\n  let endpoint = `${ACCUWEATHER_BASE_URL}/locations/v1/cities/geoposition/search?apikey=${API_KEY}&q=${lat}%2C${lng}`\r\n  try {\r\n    return await httpService.get(endpoint)\r\n  } catch (error) {\r\n    try {\r\n      console.log('entering the try-catch inside the big catch')\r\n      endpoint = endpoint.replace(API_KEY, SECONDARY_API_KEY)\r\n      return httpService.get(endpoint)\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport const accuWeatherService = {\r\n  getAutoCompletes,\r\n  getWeather,\r\n  getForecasts,\r\n  getByLocation,\r\n}\r\n","import { accuWeatherService } from '../../services/accuWeatherService'\r\n\r\n// Thunk - Action Dispatcher\r\nexport function setCityStatus(cityStatus) {\r\n  return (dispatch) => {\r\n    const action = {\r\n      type: 'SET_CITY_STATUS',\r\n      cityStatus,\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n\r\nexport function setIsDark(isDark) {\r\n  return (dispatch) => {\r\n    const action = {\r\n      type: 'SET_IS_DARK',\r\n      isDark,\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n\r\nexport function setIsCelsDegrees(isCelsDegrees) {\r\n  return (dispatch) => {\r\n    const action = {\r\n      type: 'SET_IS_CELS_DEGREES',\r\n      isCelsDegrees,\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n","import './IOSSwitch.scss'\nimport { withStyles } from '@material-ui/core/styles'\nimport Switch from '@material-ui/core/Switch'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nconst MyIOSSwitch = withStyles((theme) => ({\n  root: {\n    width: 42,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    '&$checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        backgroundColor: '#52d869',\n        opacity: 1,\n        border: 'none',\n      },\n    },\n    '&$focusVisible $thumb': {\n      color: '#52d869',\n      border: '6px solid #fff',\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create(['background-color', 'border']),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      {...props}\n    />\n  )\n})\n\nexport const IOSSwitch = ({ checked, onChange, label }) => {\n  // return <MyIOSSwitch checked={checked} onChange={onChange} />\n  return (\n    <FormControlLabel\n      control={<MyIOSSwitch checked={checked} onChange={onChange} />}\n      label={label}\n    />\n  )\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport { setIsCelsDegrees, setIsDark } from '../../store/actions/uiActions'\nimport { IOSSwitch } from '../../components/IOSSwitch'\nimport Card from '@material-ui/core/Card'\n\nimport './Switches.scss'\n\nexport const Switches = (props) => {\n  const { isDark, isCelsDegrees } = useSelector(({ uiReducer }) => uiReducer)\n  const dispatch = useDispatch()\n\n  return (\n    <Card className='switches flex column'>\n      <IOSSwitch\n        checked={isDark}\n        onChange={() => dispatch(setIsDark(!isDark))}\n        label='Dark-Mode'\n      />\n      <IOSSwitch\n        checked={isCelsDegrees}\n        onChange={() => dispatch(setIsCelsDegrees(!isCelsDegrees))}\n        label='Celsius'\n      />\n    </Card>\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport { Typography } from '@material-ui/core'\nimport AppBar from '@material-ui/core/AppBar'\nimport { useDispatch, useSelector } from 'react-redux'\nimport './AppHeader.scss'\nimport logoImage from '../../assets/img/weather.png'\nimport { Switches } from '../Switches/Switches'\n\nconst routesMap = ['/', '/favorites']\n\nexport const AppHeader = () => {\n  const history = useHistory()\n  const location = useLocation()\n  const [currRouteIdx, setCurrRouteIdx] = React.useState(0)\n\n  useEffect(() => {\n    if (location.pathname === '/favorites') {\n      setCurrRouteIdx(\n        routesMap.findIndex((currRoute) => currRoute === '/favorites')\n      )\n    } else {\n      setCurrRouteIdx(routesMap.findIndex((currRoute) => currRoute === '/'))\n    }\n  }, [location.pathname])\n\n  return (\n    <>\n      <AppBar position='fixed' className='app-header'>\n        <div className='main-container flex align-center space-between'>\n          <button\n            className='logo-button center-childs'\n            onClick={() => history.push('/')}\n          >\n            <img src={logoImage} alt='' />\n            <Typography variant='h6' color='initial'>\n              Weather-App\n            </Typography>\n          </button>\n          <Tabs value={currRouteIdx} aria-label='simple tabs example'>\n            <Tab\n              label='Home'\n              onClick={() => {\n                history.push('/')\n                setCurrRouteIdx(\n                  routesMap.findIndex((currRoute) => currRoute === '/')\n                )\n              }}\n            />\n            <Tab\n              label='Favorites'\n              onClick={() => {\n                history.push('/favorites')\n                setCurrRouteIdx(\n                  routesMap.findIndex((currRoute) => currRoute === '/favorites')\n                )\n              }}\n            />\n          </Tabs>\n        </div>\n      </AppBar>\n      <div className='main-container'>\n        <Switches />\n      </div>\n    </>\n  )\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATDSURBVFiFrZdtbFNVGMd/59zb97u16yjgWCfEjZcMHcQgJr5EiBqFxaBoJDEhJqiRGGJAEZQwG0ZIxgwgfjGGiJr4Fo3GiBoTg5rIHEYQNQRxi4JdQtPBRtutG307fuhauvZuK6P/b/d5nnv+v3NyznPPFZSpTYFL1XZdXw1iJYIWFHMBz1j6MoJzQnEqI8RRqY9+tXebL1bOuGKqgi17ovO1DNtArAPlLA9XxAXqQ6VUR+dOd8+0ADbvUw59ONaO4HlAL8+4REmlOGCkq9oCATFaNsDW9kgTQnwGLJ6mcbG6k0J75MAO14UpAbbsGlyqSe1bwFch85xTn0Kufm2H8ceEAGMzP3Y95ppIUG0JMZzyksgYJRAk5bLOgBEqAQgElH1Ij3ULaJmOcb3rT+6bs49G9zH0aAQRHWVIm8WRyB5Oxh69yiDEiaTDuGv/FjECBZtrWIvtLse8bpakca5ObY3AXZ0hfFEx+M93tPqeQROJgkqFkQ6xzthAne13jlxsz0aVulWPR7cDr+ZXYOyonWaS3T5rhmTtKjtz/RoAqXSGgUh2YwvAkTiN48xjiFQMERlBREeuviwE+/o+IiQfHENjSKRkU2fACEmA7Dmf2LxhjsbG9c68ebEUELc2E2v5BWWbbVKgWOPbSTRyKQdsYEm3AYhsh7NemKjJ1NZINj/lxGodf2AKV6BQVjWA+/sFiGh8XDwhHaz55nMablxAtbsWYFhYrtwgs+3V3FyT0HqvrcR8MiWElysL20vHIoVSiv/On82thEsl7askiJXFxU6HYO0qO7teNGief+1NMFr3LJfWRBi97a18LK5cAEUQaqVEjN/5LqfguSedLF9qwWIpf+bFSqMTrXuCoXu7ADh+8fZ8LgcxOBC+R6KYV/jiQ/fb8HnltI2LFTdaGF60nTdObhwXV0oRunCuUQLVuaDDLmhZZKmYeU799VtJpK0l8XQmJcdN1VcrkZWbfF4Op33CnASiuYdkSlXeHcgo83E1qWUkgn9zgXB/hvhI5SHC/aZXAXTdFpdCcSoXSGfgh58TpsXTlRDwzvvmlyKb1XZOZoQ4Whj8sTtB169DFTP/8usgf/192TRvdTi/EIFA2BjW7SHAlc8oha8mzB3LqvDPcWHRTXamAGn+aSCdUYTDIxz+oJezPebmUmpq3gy/TwC8tDt6SMGGwgKlFMFgD5HB/nIme81yu72nPz60fLEcM+sAkoUFQgga/E14aip7MwOQUuJ0GRsgewzp3OnuUYoDJZVC4Pc34fHMqChAVbW36/DrzcfzAABGuqoN6DaFaJhPTYVWwu5wxVw1VQ/knvMAgYAYJSUfBhU0g6j3N+Hxzrwuc13XM26PZ8Xbexfm/5rGbe/OgBFSQmtF0GcG4a9vnDaErlvT7pqZj7978JYT44Y1K355T8yXzqhPFdxdklSKYF8vlwfCZZtbbY64x/Dc+d6bS34rzk34wd90UNns0egrIF6gsEeMQfQFexkcnBxCSElVtfcn5fW2ftJxU8S0Zir6rYGh2VjSbSixnqJmNdFKaJqunK6qM4bL9fThgzd3TQo5FUBO2Y7pWI1QK4Al2YuM8vQFe/VYdBBN10esFtt5q91xZKbN0rF/f/NAOeP+D4CmrAbl02lPAAAAAElFTkSuQmCC\"","function on(eventName, listener) {\r\n  const callListener = ({ detail }) => {\r\n    listener(detail)\r\n  }\r\n\r\n  window.addEventListener(eventName, callListener)\r\n\r\n  return () => {\r\n    window.removeEventListener(eventName, callListener)\r\n  }\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  window.dispatchEvent(new CustomEvent(eventName, { detail: data }))\r\n}\r\n\r\nexport const eventBusService = { on, emit }\r\n\r\nwindow.myBus = eventBusService\r\n","import { accuWeatherService } from '../../services/accuWeatherService'\r\nimport { setCityStatus } from './uiActions'\r\nimport { eventBusService } from '../../services/eventBusService'\r\n\r\n// Thunk - Action Dispatcher\r\nexport function setCity(city) {\r\n  return (dispatch) => {\r\n    const action = {\r\n      type: 'SET_CITY',\r\n      city,\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n\r\nexport function loadFullCity(cityDetails) {\r\n  return async (dispatch) => {\r\n    dispatch(setCityStatus('loading'))\r\n    try {\r\n      const weather = await accuWeatherService.getWeather(cityDetails.Key)\r\n      const forecasts = await accuWeatherService.getForecasts(cityDetails.Key)\r\n\r\n      const action = {\r\n        type: 'SET_CITY',\r\n        city: {\r\n          details: cityDetails,\r\n          weather,\r\n          forecasts,\r\n        },\r\n      }\r\n      dispatch(action)\r\n      dispatch(setCityStatus('fulfilled'))\r\n    } catch (error) {\r\n      eventBusService.emit('notif', {\r\n        type: 'error',\r\n        txt: `Couldn't load ${cityDetails.LocalizedName}. Check your internet connection, and make sure that you did'nt exceeded the daily weather requests`,\r\n      })\r\n      dispatch(setCityStatus('error'))\r\n    }\r\n  }\r\n}\r\n","import { useEffect } from 'react'\nimport { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\n\nimport { accuWeatherService } from '../../services/accuWeatherService'\nimport { loadFullCity } from '../../store/actions/cityActions'\nimport './SearchBox.scss'\nimport { eventBusService } from '../../services/eventBusService'\n\nexport const SearchBox = () => {\n  const dispatch = useDispatch()\n\n  const [currText, setCurrText] = useState('')\n  const [autocompletes, setAutocompletes] = useState([])\n\n  const loadAutoCompletes = async () => {\n    if (!currText) return setAutocompletes([])\n    try {\n      //before trying to autocomplete - check if already can start to search\n      let exactSearch = autocompletes.find(({ LocalizedName }) => {\n        return LocalizedName === currText\n      })\n      if (exactSearch) handleSearch()\n\n      const results = await accuWeatherService.getAutoCompletes(currText)\n\n      //the API response with a list of cities that in most of the times contains duplicated cities:\n      const cleanResults = results.reduce((acc, currResult) => {\n        const duplicatedResult = acc.find(({ LocalizedName }) => {\n          return LocalizedName === currResult.LocalizedName\n        })\n        if (!duplicatedResult) acc.push(currResult)\n        return acc\n      }, [])\n\n      setAutocompletes(cleanResults)\n      exactSearch = cleanResults.find(({ LocalizedName }) => {\n        return LocalizedName === currText\n      })\n\n      if (exactSearch) handleSearch()\n    } catch (error) {\n      eventBusService.emit('notif', {\n        type: 'error',\n        txt: `Couldn't load \"${currText}\" auto-completes. Check your internet connection, and make sure that you did'nt exceeded the daily weather requests`,\n      })\n    }\n  }\n\n  const cleanAutoCompletes = autocompletes.filter(\n    ({ LocalizedName }) => LocalizedName !== currText\n  )\n\n  const handleSearch = async () => {\n    // console.log('searching... autocompletes:', autocompletes)\n    const cityDetails = autocompletes.find(\n      (currCity) => currCity.LocalizedName === currText\n    )\n\n    if (!cityDetails) return\n    dispatch(loadFullCity(cityDetails))\n  }\n\n  useEffect(() => {\n    loadAutoCompletes()\n  }, [currText])\n\n  return (\n    <div className='search-box'>\n      {/* <datalist id='searchSuggestions'>\n        {cleanAutoCompletes.map(({ LocalizedName }) => (\n          <option key={LocalizedName} value={LocalizedName} />\n        ))}\n      </datalist>\n      <input\n        form='searchForm'\n        list='searchSuggestions'\n        type='text'\n        value={currText}\n        onChange={({ target: { value } }) => setCurrText(value)}\n      /> */}\n      <Autocomplete\n        id='free-solo-demo'\n        freeSolo\n        onChange={(ev, value) => setCurrText(value)}\n        options={cleanAutoCompletes.map(({ LocalizedName }) => LocalizedName)}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            label='Search...'\n            margin='normal'\n            variant='outlined'\n            value={currText}\n            onChange={({ target: { value } }) => setCurrText(value)}\n          />\n        )}\n      />\n    </div>\n  )\n}\n","//T(c) === (T(f) - 32) / 1.8\r\n//T(f) === 1.8T(c) + 32\r\n\r\nexport const daysInWeek = [\r\n  'Sunday',\r\n  'Monday',\r\n  'Tuesday',\r\n  'Wednesday',\r\n  'Thursday',\r\n  'Friday',\r\n  'Saturday',\r\n]\r\n\r\nexport const fromFerToCelc = (ferTemp) => {\r\n  return (ferTemp - 32) / 1.8\r\n}\r\nexport const fromCelcToFer = (celcTemp) => {\r\n  return 1.8 * celcTemp + 32\r\n}\r\nexport const getWeatherIcon = (iconNumber) => {\r\n  return iconNumber < 10\r\n    ? `https://developer.accuweather.com/sites/default/files/0${iconNumber}-s.png`\r\n    : `https://developer.accuweather.com/sites/default/files/${iconNumber}-s.png`\r\n}\r\n","import Card from '@material-ui/core/Card'\nimport { Typography } from '@material-ui/core'\n\nimport './ForecastPreview.scss'\n\nimport {\n  fromFerToCelc,\n  fromCelcToFer,\n  getWeatherIcon,\n  daysInWeek,\n} from '../../services/utils'\nimport { useSelector } from 'react-redux'\n\nexport const ForecastPreview = ({ forecast }) => {\n  const { isCelsDegrees } = useSelector(({ uiReducer }) => uiReducer)\n  const day = daysInWeek[new Date(forecast.Date).getDay()]\n\n  const getTemp = () => {\n    const valInFer =\n      (forecast.Temperature.Minimum.Value +\n        forecast.Temperature.Maximum.Value) /\n      2\n    return isCelsDegrees ? fromFerToCelc(valInFer) : valInFer\n  }\n\n  const uiTemp = `${Math.round(getTemp() * 10) / 10}'${\n    isCelsDegrees ? 'C' : 'F'\n  }`\n\n  return (\n    <Card className='forecast-preview flex column align-center'>\n      <Typography align='center' variant='body1'>\n        {day.slice(0, 3)}\n      </Typography>\n      <Typography align='center' variant='body1'>\n        {uiTemp}\n      </Typography>\n      <img src={getWeatherIcon(forecast.Day.Icon)} alt='' />\n    </Card>\n  )\n}\n","import { useSelector } from 'react-redux'\n\nimport './ForecastsList.scss'\nimport { ForecastPreview } from '../ForecastPreview'\n\nexport const ForecastsList = (props) => {\n  const city = useSelector(({ cityReducer }) => cityReducer.city)\n\n  return (\n    <ul className='forecasts-list clean-list center-childs'>\n      {!city?.forecasts?.DailyForecasts ? (\n        <p>Loading...</p>\n      ) : (\n        city.forecasts.DailyForecasts.map((currForecast) => (\n          <ForecastPreview key={currForecast.Date} forecast={currForecast} />\n        ))\n      )}\n    </ul>\n  )\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport { Button } from '@material-ui/core'\nimport FavIconEmpty from '@material-ui/icons/FavoriteBorderOutlined'\nimport FavIcon from '@material-ui/icons/Favorite'\n\nimport {\n  addFavorite,\n  removeFavorite,\n} from '../../store/actions/favoriteCitiesActions'\nimport './ToggleFavoriteButton.scss'\n\nexport const ToggleFavoriteButton = ({ cityKey, city }) => {\n  const { favoriteCities } = useSelector(\n    ({ favoriteCitiesReducer }) => favoriteCitiesReducer\n  )\n  const dispatch = useDispatch()\n\n  const relevantCity = city\n    ? city\n    : favoriteCities.find(({ details: { Key } }) => Key === cityKey)\n\n  const isFavorite = favoriteCities.find(({ details: { Key } }) => {\n    console.log('Key:', Key)\n    console.log('cityKey:', cityKey)\n    return Key === cityKey\n  })\n\n  const toggleFavorite = () => {\n    if (!isFavorite) return dispatch(addFavorite(relevantCity))\n    dispatch(removeFavorite(cityKey))\n  }\n  return (\n    // <Button variant=\"contained\" color=\"primary\"></Button>\n    <Button\n      variant={isFavorite ? 'contained' : 'outlined'}\n      startIcon={isFavorite ? <FavIcon /> : <FavIconEmpty />}\n      color={'secondary'}\n      className='toggle-favorite-button'\n      onClick={toggleFavorite}\n    >\n      favorites\n    </Button>\n  )\n}\n","import { eventBusService } from '../../services/eventBusService'\r\nimport { localStorageService } from '../../services/localStorageService'\r\n\r\n// Thunk - Action Dispatcher\r\nexport function setFavorites(favorites) {\r\n  return (dispatch) => {\r\n    localStorageService.setItem('favoriteCities', favorites)\r\n    const action = {\r\n      type: 'SET_FAVORITES',\r\n      favorites,\r\n    }\r\n    dispatch(action)\r\n  }\r\n}\r\n\r\nexport function addFavorite(favorite) {\r\n  return (dispatch, getState) => {\r\n    const action = {\r\n      type: 'ADD_FAVORITE',\r\n      favorite,\r\n    }\r\n    dispatch(action)\r\n    localStorageService.setItem(\r\n      'favoriteCities',\r\n      getState().favoriteCitiesReducer.favoriteCities\r\n    )\r\n    eventBusService.emit('notif', {\r\n      type: 'success',\r\n      txt: `Added ${favorite.details.LocalizedName} to favorites`,\r\n    })\r\n  }\r\n}\r\n\r\nexport function removeFavorite(cityKey) {\r\n  return (dispatch, getState) => {\r\n    console.log('removing from action: ', cityKey)\r\n    const action = {\r\n      type: 'REMOVE_FAVORITE',\r\n      cityKey,\r\n    }\r\n    dispatch(action)\r\n    localStorageService.setItem(\r\n      'favoriteCities',\r\n      getState().favoriteCitiesReducer.favoriteCities\r\n    )\r\n    eventBusService.emit('notif', {\r\n      type: 'success',\r\n      txt: `Removed from favorites`,\r\n    })\r\n  }\r\n}\r\n","import { Typography } from '@material-ui/core'\nimport './MessageBox.scss'\n\nexport const MessageBox = ({ text, Icon, color = 'textPrimary' }) => {\n  return (\n    <div className='message-box flex column align-center'>\n      <Typography\n        align='center'\n        variant='h6'\n        className='message-box-text'\n        color={color}\n      >\n        {text}\n      </Typography>\n      {Icon}\n    </div>\n  )\n}\n","import { useSelector } from 'react-redux'\n\nimport './HomePage.scss'\nimport { SearchBox } from '../../components/SearchBox'\nimport { ForecastsList } from '../../components/ForecastsList/ForecastsList'\nimport { ToggleFavoriteButton } from '../../components/ToggleFavoriteButton/ToggleFavoriteButton'\nimport { Typography } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport SearchIcon from '@material-ui/icons/SearchOutlined'\nimport ErrorIcon from '@material-ui/icons/ErrorOutlined'\nimport { MessageBox } from '../../components/MessageBox/MessageBox'\n\nexport const HomePage = (props) => {\n  const { city } = useSelector(({ cityReducer }) => cityReducer)\n  const { cityStatus, isCelsDegrees } = useSelector(\n    ({ uiReducer }) => uiReducer\n  )\n\n  const getUiTemp = () => {\n    const temp =\n      city.weather[0].Temperature[isCelsDegrees ? 'Metric' : 'Imperial'].Value\n\n    return `${Math.round(temp * 10) / 10}'${isCelsDegrees ? 'C' : 'F'}`\n  }\n\n  return (\n    <div className='home-page flex column align-center'>\n      <SearchBox />\n      {cityStatus === 'empty' && (\n        <MessageBox\n          text=\"Search for any desired city, and get it's weather details!\"\n          Icon={<SearchIcon />}\n        />\n      )}\n      {cityStatus === 'error' && (\n        <MessageBox\n          text='There was an Error while trying to search for your city. Please refresh the page and try again...'\n          Icon={<ErrorIcon color='error' />}\n          color='error'\n        />\n      )}\n      {cityStatus === 'fulfilled' && (\n        <div className='city-details'>\n          <div className='city-details-bar flex space-between align-center'>\n            <div>\n              <Typography variant='h6'>{city.details.LocalizedName}</Typography>\n              <Typography variant='body1'>{getUiTemp()}</Typography>\n            </div>\n            <div>\n              <ToggleFavoriteButton cityKey={city.details.Key} city={city} />\n            </div>\n          </div>\n          <Typography className='city-title' variant='h2'>\n            {city.weather[0].WeatherText}\n          </Typography>\n          <ForecastsList />\n        </div>\n      )}\n      {cityStatus === 'loading' && <CircularProgress />}\n    </div>\n  )\n}\n","import Card from '@material-ui/core/Card'\nimport { Typography } from '@material-ui/core'\nimport './FavoritePreview.scss'\nimport {\n  fromFerToCelc,\n  fromCelcToFer,\n  getWeatherIcon,\n  daysInWeek,\n} from '../../services/utils'\nimport { ToggleFavoriteButton } from '../ToggleFavoriteButton/ToggleFavoriteButton'\nimport { useSelector } from 'react-redux'\n\nexport const FavoritePreview = ({ favorite: { weather, details } }) => {\n  const { isCelsDegrees } = useSelector(({ uiReducer }) => uiReducer)\n  const day = daysInWeek[new Date(weather[0].LocalObservationDateTime).getDay()]\n\n  const getUiTemp = () => {\n    const temp =\n      weather[0].Temperature[isCelsDegrees ? 'Metric' : 'Imperial'].Value\n\n    return `${Math.round(temp * 10) / 10}'${isCelsDegrees ? 'C' : 'F'}`\n  }\n\n  return (\n    <Card className='favorite-preview flex column align-center'>\n      <Typography className='title' align='center' variant='body1'>\n        {details.LocalizedName}\n      </Typography>\n      <Typography align='center' variant='body1'>\n        {day.slice(0, 3)}\n      </Typography>\n      <Typography align='center' variant='body1'>\n        {getUiTemp()}\n      </Typography>\n      <img src={getWeatherIcon(weather[0].WeatherIcon)} alt='' />\n      <ToggleFavoriteButton cityKey={details.Key} />\n    </Card>\n  )\n}\n","import { useSelector } from 'react-redux'\nimport './FavoritesList.scss'\nimport { FavoritePreview } from '../FavoritePreview/FavoritePreview'\nimport { MessageBox } from '../MessageBox/MessageBox'\nimport ErrorIcon from '@material-ui/icons/ErrorOutlined'\n\nexport const FavoritesList = (props) => {\n  const { favoriteCities } = useSelector(\n    ({ favoriteCitiesReducer }) => favoriteCitiesReducer\n  )\n\n  const EmptyMessage = (\n    <MessageBox\n      text={\n        \"It's looks like your favorites list is empty... Add cities to your favorites in the home page\"\n      }\n      Icon={<ErrorIcon />}\n    />\n  )\n\n  if (!favoriteCities?.length) return EmptyMessage\n  return (\n    <ul className='favorites-list center-childs'>\n      {favoriteCities.map((currFav) => (\n        <FavoritePreview key={currFav.details.Key} favorite={currFav} />\n      ))}\n    </ul>\n  )\n}\n","import './FavoritesPage.scss'\n\nimport { FavoritesList } from '../../components/FavoritesList/FavoritesList'\n\nexport const FavoritesPage = (props) => {\n  return (\n    <section className='favorites-page flex justify-center'>\n      <FavoritesList />\n    </section>\n  )\n}\n","import { useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { eventBusService } from '../../services/eventBusService'\ntoast.configure()\n\nexport const AppNotification = () => {\n  const notify = (notification) => {\n    toast[notification.type](notification.txt)\n  }\n\n  useEffect(() => {\n    eventBusService.on('notif', notify)\n  }, [])\n\n  return null\n}\n","import './assets/scss/main.scss'\n// import { Switch, Route, BrowserRouter as Router } from 'react-router-dom'\nimport { Switch, Route, HashRouter as Router } from 'react-router-dom'\n\nimport { AppHeader } from './components/AppHeader/AppHeader'\nimport { HomePage } from './pages/HomePage/HomePage'\nimport { FavoritesPage } from './pages/FavoritesPage/FavoritesPage'\nimport { AppNotification } from './components/AppNotification'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { loadFullCity } from './store/actions/cityActions'\nimport { accuWeatherService } from './services/accuWeatherService'\nimport { eventBusService } from './services/eventBusService'\nimport Paper from '@material-ui/core/Paper'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core'\n\nfunction App() {\n  const dispatch = useDispatch()\n  const { isDark } = useSelector(({ uiReducer }) => uiReducer)\n\n  const searchByLocation = async (lat, lng) => {\n    try {\n      const cityDetails = await accuWeatherService.getByLocation(lat, lng)\n      dispatch(loadFullCity(cityDetails))\n    } catch (error) {\n      eventBusService.emit('notif', {\n        type: 'error',\n        txt: `Couldn't load city of your current location. Check your internet connection, and make sure that you did'nt exceeded the daily weather requests`,\n      })\n    }\n  }\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(\n      ({ coords: { latitude, longitude } }) =>\n        searchByLocation(latitude, longitude),\n      () => {\n        eventBusService.emit('notif', {\n          type: 'error',\n          txt: `Couldn't load city by current location because permission denied`,\n        })\n      }\n    )\n  }, [])\n\n  const theme = createMuiTheme({\n    palette: {\n      type: isDark ? 'dark' : 'light',\n    },\n  })\n\n  return (\n    <Router>\n      <ThemeProvider theme={theme}>\n        <Paper className='app-paper'>\n          <div className='App'>\n            <AppHeader />\n            <AppNotification />\n            <main className='main-container page-container'>\n              <Switch>\n                <Route component={FavoritesPage} path='/favorites' />\n                <Route component={HomePage} path='' />\n              </Switch>\n            </main>\n          </div>\n        </Paper>\n      </ThemeProvider>\n    </Router>\n  )\n}\n\nexport default App\n","const INITIAL_STATE = {\r\n  city: null,\r\n}\r\n\r\nexport function cityReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case 'SET_CITY':\r\n      return {\r\n        ...state,\r\n        city: action.city,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { localStorageService } from '../../services/localStorageService'\r\n\r\nconst INITIAL_STATE = {\r\n  favoriteCities: localStorageService.getItem('favoriteCities') || [],\r\n}\r\n\r\nexport function favoriteCitiesReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case 'SET_FAVORITES':\r\n      return {\r\n        ...state,\r\n        favoriteCities: action.favorites,\r\n      }\r\n    case 'ADD_FAVORITE':\r\n      return {\r\n        ...state,\r\n        favoriteCities: [...state.favoriteCities, action.favorite],\r\n      }\r\n    case 'REMOVE_FAVORITE':\r\n      return {\r\n        ...state,\r\n        favoriteCities: state.favoriteCities.filter(\r\n          (currFavorite) => currFavorite.details.Key !== action.cityKey\r\n        ),\r\n      }\r\n    case 'UPDATE_FAVORITE':\r\n      const { updatedFavorite } = action\r\n      return {\r\n        ...state,\r\n        favoriteCities: state.favoriteCities.map((currFavorite) =>\r\n          currFavorite._id === updatedFavorite._id\r\n            ? updatedFavorite\r\n            : currFavorite\r\n        ),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const INITIAL_STATE = {\r\n  cityStatus: 'empty',\r\n  isDark: false,\r\n  isCelsDegrees: true,\r\n}\r\n\r\nexport function uiReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case 'SET_CITY_STATUS':\r\n      return {\r\n        ...state,\r\n        cityStatus: action.cityStatus,\r\n      }\r\n    case 'SET_IS_DARK':\r\n      return {\r\n        ...state,\r\n        isDark: action.isDark,\r\n      }\r\n    case 'SET_IS_CELS_DEGREES':\r\n      return {\r\n        ...state,\r\n        isCelsDegrees: action.isCelsDegrees,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { cityReducer } from './reducers/cityReducer'\r\nimport { favoriteCitiesReducer } from './reducers/favoriteCitiesReducer'\r\nimport { uiReducer } from './reducers/uiReducer'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst rootReducer = combineReducers({\r\n  cityReducer,\r\n  favoriteCitiesReducer,\r\n  uiReducer,\r\n})\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport App from './App'\nimport { store } from './store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}